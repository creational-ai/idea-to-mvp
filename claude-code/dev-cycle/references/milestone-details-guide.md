# Milestone Details Guide

Generate a comprehensive milestone summary from all task documentation.

**Template**: `assets/templates/milestone-details.md`

## Input

Milestone slug (e.g., `core`, `cloud`, `auth`)

## Source Documents

Read ALL docs for this milestone:

```
docs/[milestone]-*-design.md
docs/[milestone]-*-plan.md
docs/[milestone]-*-results.md
docs/[milestone]-architecture.md (if exists)
docs/[milestone]-poc-design.md (if exists)
```

Also check mission-control for milestone status if available.

## Extraction Process

### 1. Gather All Tasks

List all tasks in the milestone from the docs found. For each task extract:
- Task ID and name (PoC 0, PoC 1, Feature X, etc.)
- Status (Complete, In Progress)
- What it proved/delivered
- Duration (from results doc timestamps)
- Key artifacts created

### 2. Build Executive Summary

Create status table:

| Task | Status | What It Proved |
|------|--------|----------------|
| PoC 0 | ✅ Complete | [one-liner from results] |
| PoC 1 | ✅ Complete | [one-liner from results] |

Write "Current State" paragraph summarizing where the milestone stands.

### 3. Create Architecture Diagram

If milestone is complete or has significant progress, create ASCII diagram showing:
- Current system components
- How they connect
- External dependencies

### 4. Create Progress Overview

**Use existing diagrams** - Copy the `## Diagram` section from each task's results doc (`docs/[milestone]-[task]-results.md`). These are already generated by `/dev-diagram`.

Arrange them horizontally to show progression:
```
[Copy PoC 0 diagram]     [Copy PoC 1 diagram]     [Copy PoC 2 diagram]
        ────────────────▶        ────────────────▶
```

Do NOT regenerate task diagrams - use exactly what's in the results docs.

### 5. Per-Task Sections

For each task, create "What [Task] Delivered: [Short Name]" section with:

**Structure:**
```
## What [Task] Delivered: [Short Name]

**Duration**: [timestamps]

[Description paragraph]

### 1. [Topic] - ASCII diagram or structured content
### 2. [Topic] - More content
### 3. [Topic] - Test coverage, configs, etc.
### [N]. Lessons Learned - Key lessons in code block
### [Task] Artifacts - Table of files created
```

**Content:**
- Duration (start to end timestamps)
- Description paragraph
- Numbered subsections with ASCII diagrams
- Lessons Learned subsection (from results doc, in code block)
- Artifacts table (file, purpose, lines)

### 6. Completion Map

Create "What's Built" section with checkbox format:
```
✅ Category Name
├── Item delivered
├── Item delivered
└── Item delivered
```

### 7. Key Decisions Table

Extract decisions from all task docs:

| Decision | Made In | Rationale |
|----------|---------|-----------|
| JSONB for segments | PoC 0 | LLM does semantic search, not SQL |

### 8. Next Steps

What milestone comes next? What are the first steps?

### 9. References

Link to all source docs.

## Output

Write to: `docs/[milestone]-milestone-details.md`

## Content Guidelines

**Include:**
- ASCII diagrams (architecture, progress flow, structure)
- Tables (status, artifacts, decisions)
- Code blocks for configs/commands
- Concrete metrics (test counts, performance numbers)
- Timestamps and durations

**Exclude:**
- Step-by-step implementation details (that's in results docs)
- Full code listings (just show structure)
- Redundant information (summarize, don't copy)

## ASCII Diagram Style

Use box drawing characters:
```
┌ ─ ┐  ═  │  ▼  ▶  ├  └
```

Keep diagrams readable - max ~80 chars wide.

---

## Quick Reference

1. **Gather** - Read all `docs/[milestone]-*` files
2. **Extract** - Task list, status, deliverables, decisions, lessons
3. **Summarize** - Executive summary table + current state
4. **Diagram** - Architecture + progress flow
5. **Detail** - Per-task sections with artifacts
6. **Compile** - Completion map, decisions table, next steps
7. **Write** - Output to `docs/[milestone]-milestone-details.md`
